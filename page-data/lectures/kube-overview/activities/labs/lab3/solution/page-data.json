{"componentChunkName":"component---src-pages-lectures-kube-overview-activities-labs-lab-3-solution-mdx","path":"/lectures/kube-overview/activities/labs/lab3/solution/","result":{"pageContext":{"frontmatter":{"title":"Kubernetes Lab 3 - Manage Multiple Containers"},"relativePagePath":"/lectures/kube-overview/activities/labs/lab3/solution.mdx","titleType":"page","MdxNode":{"id":"9fc32c18-cc31-52e7-a0b5-64b5f02a70a3","children":[],"parent":"9c97353d-c1a0-5133-8e5c-9dac4fe1e183","internal":{"content":"---\ntitle: Kubernetes Lab 3 - Manage Multiple Containers\n---\n\n## Solution\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: vader-service-ambassador-config\ndata:\n  haproxy.cfg: |-\n    global\n        daemon\n        maxconn 256\n\n    defaults\n        mode http\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n\n    listen http-in\n        bind *:80\n        server server1 127.0.0.1:8775 maxconn 32\n```\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: vader-service\nspec:\n  containers:\n  - name: millennium-falcon\n    image: ibmcase/millennium-falcon:1\n  - name: haproxy-ambassador\n    image: haproxy:1.7\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: config-volume\n      mountPath: /usr/local/etc/haproxy\n  volumes:\n  - name: config-volume\n    configMap:\n      name: vader-service-ambassador-config\n``` \n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox\nspec:\n  containers:\n  - name: myapp-container\n    image: radial/busyboxplus:curl\n    command: ['sh', '-c', 'while true; do sleep 3600; done']\n```\n\n```bash\nkubectl exec busybox -- curl $(kubectl get pod vader-service -o=jsonpath='{.status.podIP}'):80\n```\n","type":"Mdx","contentDigest":"9d822efd6ab1fefaa975d09ebcfde3a4","owner":"gatsby-plugin-mdx","counter":602},"frontmatter":{"title":"Kubernetes Lab 3 - Manage Multiple Containers"},"exports":{},"rawBody":"---\ntitle: Kubernetes Lab 3 - Manage Multiple Containers\n---\n\n## Solution\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: vader-service-ambassador-config\ndata:\n  haproxy.cfg: |-\n    global\n        daemon\n        maxconn 256\n\n    defaults\n        mode http\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n\n    listen http-in\n        bind *:80\n        server server1 127.0.0.1:8775 maxconn 32\n```\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: vader-service\nspec:\n  containers:\n  - name: millennium-falcon\n    image: ibmcase/millennium-falcon:1\n  - name: haproxy-ambassador\n    image: haproxy:1.7\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: config-volume\n      mountPath: /usr/local/etc/haproxy\n  volumes:\n  - name: config-volume\n    configMap:\n      name: vader-service-ambassador-config\n``` \n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox\nspec:\n  containers:\n  - name: myapp-container\n    image: radial/busyboxplus:curl\n    command: ['sh', '-c', 'while true; do sleep 3600; done']\n```\n\n```bash\nkubectl exec busybox -- curl $(kubectl get pod vader-service -o=jsonpath='{.status.podIP}'):80\n```\n","fileAbsolutePath":"/home/runner/work/learning-cloudnative-101/learning-cloudnative-101/src/pages/lectures/kube-overview/activities/labs/lab3/solution.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3037994772","3037994772","530240012","530240012","768070550"]}