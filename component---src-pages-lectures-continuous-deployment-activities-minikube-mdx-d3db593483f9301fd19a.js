(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"013z":function(e,a,t){"use strict";var n=t("q1tI"),c=t.n(n),p=t("NmYn"),l=t.n(p),r=t("Wbzz"),i=t("Xrax"),o=t("k4MR"),s=t("TSYQ"),b=t.n(s),d=t("QH2O"),m=t.n(d),g=t("qKvR");var u=e=>{let{title:a,theme:t,tabs:n=[]}=e;return Object(g.b)("div",{className:b()(m.a.pageHeader,{[m.a.withTabs]:n.length,[m.a.darkMode]:"dark"===t})},Object(g.b)("div",{className:"bx--grid"},Object(g.b)("div",{className:"bx--row"},Object(g.b)("div",{className:"bx--col-lg-12"},Object(g.b)("h1",{id:"page-title",className:m.a.text},a)))))},A=t("BAC9");var O=e=>{let{relativePagePath:a,repository:t}=e;const{site:{siteMetadata:{repository:n}}}=Object(r.useStaticQuery)("1364590287"),{baseUrl:c,subDirectory:p,branch:l}=t||n,i=c+"/edit/"+l+p+"/src/pages"+a;return c?Object(g.b)("div",{className:"bx--row "+A.row},Object(g.b)("div",{className:"bx--col"},Object(g.b)("a",{className:A.link,href:i},"Edit this page on GitHub"))):null},N=t("FCXl"),j=t("dI71"),h=t("I8xM");var f=function(e){function a(){return e.apply(this,arguments)||this}return Object(j.a)(a,e),a.prototype.render=function(){const{title:e,tabs:a,slug:t}=this.props,n=t.split("/").filter(Boolean).slice(-1)[0],c=a.map(e=>{const a=l()(e,{lower:!0,strict:!0}),c=a===n,p=new RegExp(n+"/?(#.*)?$"),i=t.replace(p,a);return Object(g.b)("li",{key:e,className:b()({[h.selectedItem]:c},h.listItem)},Object(g.b)(r.Link,{className:h.link,to:""+i},e))});return Object(g.b)("div",{className:h.tabsContainer},Object(g.b)("div",{className:"bx--grid"},Object(g.b)("div",{className:"bx--row"},Object(g.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(g.b)("nav",{"aria-label":e},Object(g.b)("ul",{className:h.list},c))))))},a}(c.a.Component),y=t("MjG9"),w=t("CzIb"),C=t("Asxa"),x=t("OIbQ"),E=t.n(x);var v=e=>{let{date:a}=e;const t=new Date(a);return a?Object(g.b)(C.c,{className:E.a.row},Object(g.b)(C.a,null,Object(g.b)("div",{className:E.a.text},"Page last updated: ",t.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};a.a=e=>{let{pageContext:a,children:t,location:n,Title:c}=e;const{frontmatter:p={},relativePagePath:s,titleType:b}=a,{tabs:d,title:m,theme:A,description:j,keywords:h,date:C}=p,{interiorTheme:x}=Object(w.a)(),{site:{pathPrefix:E}}=Object(r.useStaticQuery)("2456312558"),R=E?n.pathname.replace(E,""):n.pathname,k=d?R.split("/").filter(Boolean).slice(-1)[0]||l()(d[0],{lower:!0}):"",S=A||x;return Object(g.b)(o.a,{tabs:d,homepage:!1,theme:S,pageTitle:m,pageDescription:j,pageKeywords:h,titleType:b},Object(g.b)(u,{title:c?Object(g.b)(c,null):m,label:"label",tabs:d,theme:S}),d&&Object(g.b)(f,{title:m,slug:R,tabs:d,currentTab:k}),Object(g.b)(y.a,{padded:!0},t,Object(g.b)(O,{relativePagePath:s}),Object(g.b)(v,{date:C})),Object(g.b)(N.a,{pageContext:a,location:n,slug:R,tabs:d,currentTab:k}),Object(g.b)(i.a,null))}},BAC9:function(e,a,t){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,a,t){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,a,t){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},OKHM:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return r})),t.d(a,"default",(function(){return s}));var n=t("wx14"),c=t("Ff2n"),p=(t("q1tI"),t("7ljp")),l=t("013z");t("qKvR");const r={},i={_frontmatter:r},o=l.a;function s(e){let{components:a}=e,t=Object(c.a)(e,["components"]);return Object(p.b)(o,Object(n.a)({},i,t,{components:a,mdxType:"MDXLayout"}),Object(p.b)("h2",null,"Pre-requisites"),Object(p.b)("p",null,"Make sure your environment is setup properly for the lab."),Object(p.b)("p",null,"Check the ",Object(p.b)("a",{parentName:"p",href:"../prerequisites/#environment-setup"},"Environment Setup")," page for your setup."),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Install the ",Object(p.b)("inlineCode",{parentName:"p"},"argocd")," CLI, for example on OSX use brew"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"brew tap argoproj/tap\nbrew install argoproj/tap/argocd\n"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Remember to have minikube tunnel running in another terminal"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"minikube tunnel\n")))),Object(p.b)("h2",null,"ArgoCD Installation"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Create the namespace ",Object(p.b)("inlineCode",{parentName:"li"},"argocd")," to install argocd",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl create namespace argocd\n"))),Object(p.b)("li",{parentName:"ul"},"Create RBAC resources",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/service_account.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/role.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/role_binding.yaml\n")),"  Create ClusterRoleBinding for ",Object(p.b)("inlineCode",{parentName:"li"},"cluster-admin")," role for ",Object(p.b)("inlineCode",{parentName:"li"},"sa")," ",Object(p.b)("inlineCode",{parentName:"li"},"argocd-application-controller")," in namespace ",Object(p.b)("inlineCode",{parentName:"li"},"argocd"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"cat <<'EOF' | kubectl create -f -\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    app.kubernetes.io/component: application-controller\n    app.kubernetes.io/name: argocd-application-controller\n    app.kubernetes.io/part-of: argocd\n  name: argocd-application-controller\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n  - kind: ServiceAccount\n    name: argocd-application-controller\n    namespace: argocd\nEOF\n"))),Object(p.b)("li",{parentName:"ul"},"Install CRDs",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/argo-cd/argoproj.io_applications_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/argo-cd/argoproj.io_appprojects_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/crds/argoproj.io_argocdexports_crd.yaml\nkubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/crds/argoproj.io_argocds_crd.yaml\n")),"  Verify CRDs",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl get crd -n argocd\n")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"NAME                        CREATED AT\napplications.argoproj.io    2020-05-15T02:05:55Z\nappprojects.argoproj.io     2020-05-15T02:05:56Z\nargocdexports.argoproj.io   2020-05-15T02:08:21Z\nargocds.argoproj.io         2020-05-15T02:08:21Z\n"))),Object(p.b)("li",{parentName:"ul"},"Deploy Operator",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/deploy/operator.yaml\n"))),Object(p.b)("li",{parentName:"ul"},"Deploy ArgoCD CO",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl create -n argocd -f https://raw.githubusercontent.com/argoproj-labs/argocd-operator/v0.0.8/examples/argocd-lb.yaml\n")),"  Verify that ArgoCD Pods are running",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl get pods -n argocd\n")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"NAME                                                     READY   STATUS    RESTARTS   AGE\nargocd-operator-5f7d8cf7d8-486vn                         1/1     Running   0          3m46s\nexample-argocd-application-controller-7dc5fcb75d-xkk5h   1/1     Running   0          2m3s\nexample-argocd-dex-server-bb9df96cb-ndmhl                1/1     Running   0          2m3s\nexample-argocd-redis-756b6764-sb2gt                      1/1     Running   0          2m3s\nexample-argocd-repo-server-75944fcf87-zmh48              1/1     Running   0          2m3s\nexample-argocd-server-747b684c8c-xhgl9                   1/1     Running   0          2m3s\n")),"  Verify that the other ArgoCD resources are created",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"kubectl get cm,secret,svc,deploy -n argocd\n"))),Object(p.b)("li",{parentName:"ul"},"Expose the ArgoCD Server service as a NodePort.",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},'kubectl expose deployment.apps/example-argocd-server --type="NodePort" --port 8080 --name=argo-nodeport -n argocd  \n'))),Object(p.b)("li",{parentName:"ul"},"List the argocd-server service",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl get svc example-argocd-server -n argocd\n")),"  It should have an IP under ",Object(p.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," column",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"NAME                    TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE\nexample-argocd-server   LoadBalancer   172.21.106.88   <pending>     80:32010/TCP,443:31861/TCP   111m\n"))),Object(p.b)("li",{parentName:"ul"},"Set an environment variable ",Object(p.b)("inlineCode",{parentName:"li"},"ARGOCD_URL")," using the ",Object(p.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},'export ARGOCD_NAMESPACE=argocd\nexport ARGOCD_SERVER="$(kubectl get svc example-argocd-server -n $ARGOCD_NAMESPACE -o jsonpath=\'{.status.loadBalancer.ingress[0].ip}\')"\nexport ARGOCD_URL="https://$ARGOCD_SERVER"\necho ARGOCD_URL=$ARGOCD_URL\necho ARGOCD_SERVER=$ARGOCD_SERVER\n')))),Object(p.b)("h2",null,"Deploying the app"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Login into the UI.",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"open $ARGOCD_URL\n"))),Object(p.b)("li",{parentName:"ul"},"Use ",Object(p.b)("inlineCode",{parentName:"li"},"admin")," as the username and get the password with the following command",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d\n")),"  For example the output is similar to this:",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"tyafMb7BNvO0kP9eizx3CojrK8pYJFQq\n")))),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZklEQVQoz13R6U4acRQFcN+mqVUREdkcGGBYZRnWQQTXqGgVoahgVbSo1bbaxjTtizR9gNrXUNHu2jbphyYNReb0zh9JtJPczHyZX849t+1Ouw93OwNo7xLR0R1GZ0+MJo4uTQLd2iTUujR69MPQmsagM0/CYJmG0ToDTpiDgZ/FSfUrgBrqF1UoT5sC3VMRpI5CpZGg6k3AxE+Ad2Rgdc5A8MzD6cvB7skSkEG//T5h87C4cvS9gOPTL8Q0UP/9C7ICdhDUpYlTmkGo+4YoTRo6bpzQSegJMBLAO+ZgccyjnyCzcwG8+wFs3kVCCzg++cySXTUAWZbRpiRS9yUZ1GsYYav19Y9Da8kgKOYRCOaht2dhFrIE5GH1FGAfWIbDvwKrt4hTtjLwt15vgj26FDTXkI6bgN4yBSN1xYllHO1X8G63DEukAithNoIEXwmOwEO4xHUI/lVUz74x8E/9qtmh1jRKiQhSCuenYbLNgrPPwuAt4aiyjPeVJXB++llJpUDBNbhDZXgjj+AKbaJ6fsEguSE3E968nFK42UGrUU9mSvImI+HtjASBAFdwlUGe8CYGohX4pR14otsEXjKw0Wg0E7YgjkE5VjjvLkBMrCM/VWQTS21Rmg0G+eLbCCR2ISafwCft4ezDfyDXuhwrfJEVLvhLNCsQaD0nQUoqBfJLjxEc3IM49Azh9AGCyX0Cv98GW5e7XfgaIRvUE0GxLQYFFCj5FKHUASLDLxAbPUQofYjzjz+aHcrXHdq8SwQVGeS8UfgAg3ZovRa0T6meIzpyiPjYS0gTrxEde4XzTz8ZWKvV2Psf+SwLaMxBqqkAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"ArgoCD Login",title:"ArgoCD Login",src:"/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png",srcSet:["/static/30fe4e9c7b5cce19f88155110ad1896d/7fc1e/argocd_login.png 288w","/static/30fe4e9c7b5cce19f88155110ad1896d/a5df1/argocd_login.png 576w","/static/30fe4e9c7b5cce19f88155110ad1896d/3cbba/argocd_login.png 1152w","/static/30fe4e9c7b5cce19f88155110ad1896d/96c52/argocd_login.png 1571w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Now go back to the ArgoCD home and click on ",Object(p.b)("inlineCode",{parentName:"li"},"NEW APP"),"."),Object(p.b)("li",{parentName:"ul"},"Add the below details:"),Object(p.b)("li",{parentName:"ul"},"Application Name: ",Object(p.b)("inlineCode",{parentName:"li"},"sample")),Object(p.b)("li",{parentName:"ul"},"Project - ",Object(p.b)("inlineCode",{parentName:"li"},"default")),Object(p.b)("li",{parentName:"ul"},"SYNC POLICY: ",Object(p.b)("inlineCode",{parentName:"li"},"Manual")),Object(p.b)("li",{parentName:"ul"},"REPO URL: ",Object(p.b)("inlineCode",{parentName:"li"},"https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy")),Object(p.b)("li",{parentName:"ul"},"Revision: ",Object(p.b)("inlineCode",{parentName:"li"},"HEAD")),Object(p.b)("li",{parentName:"ul"},"Path: ",Object(p.b)("inlineCode",{parentName:"li"},"kubernetes"))),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.166666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABW0lEQVQoz6WSzUsCURTF319aUeYHFgURQdS2VYtoEYZpin1oRaFIf0OrCgwXbVoELRLHmo83znszc7rv6VhK4UAXzsxbPH73nPsuS6eSKJQrOMwX0Gje4u7hCa2XV3Qsjp5pw5ii6M678Ym3ThdsZm4e+7kj7OzuoXxWgx+E8H0fQRDEUxhCSInH9jPuW22w2YUEKtVL5AolXNWbsGwH3HUR0sW4UmBVXcMAW0ylUTqt4iBfxMVNAw7nEELoznFdqkSqDKMHlkgSkKJGQNfzdIT/OfwJ7BNQSN01riRJgT9MEyyVyVLkAbB2XSeHghz68AjqyQmJ39Uf/jmZYZns8tgMuduHS9KdCeJLOTpH0ciO+mhFsVUpI2xpZXUMaDscJll3HAe2bWups2VZ8Gi+4R+PNQBKsLX1DRyfnI/NcORkoqY9jgZubm2jWPkGcu4O1ma4DnFXJwwDPccvBVQrmCNeKNwAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"app details one",title:"app details one",src:"/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png",srcSet:["/static/59ae416e31ac0c0d6526258e1634f6e5/7fc1e/app_argo_1.png 288w","/static/59ae416e31ac0c0d6526258e1634f6e5/a5df1/app_argo_1.png 576w","/static/59ae416e31ac0c0d6526258e1634f6e5/3cbba/app_argo_1.png 1152w","/static/59ae416e31ac0c0d6526258e1634f6e5/0b124/app_argo_1.png 1728w","/static/59ae416e31ac0c0d6526258e1634f6e5/4ea69/app_argo_1.png 2304w","/static/59ae416e31ac0c0d6526258e1634f6e5/0d3df/app_argo_1.png 3141w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Cluster - Select the default one ",Object(p.b)("inlineCode",{parentName:"li"},"https://kubernetes.default.svc")," to deploy in-cluster"),Object(p.b)("li",{parentName:"ul"},"Namespace - ",Object(p.b)("inlineCode",{parentName:"li"},"default")),Object(p.b)("li",{parentName:"ul"},"Click Create to finish")),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz5WRy07CQBSG5+FMvCJR1I2s5WXcNAZpKTSg8ZFcmLAjEcVSCr1NOzP9PTNqA4maMsmXnDSn37mxVuMIt1YXVrcH2/Xw/DLBZPqKMOOIkxTRDqyiGGzv4BDWvQOr5+LOHiBYhlBSIuccZVlilyeVAtsnYd8bY/jwZJjNPxCnKVJCCAFFSXUpKJ+dNpuwhyP0R49wiTd/gVR3qEpwqQhZn4KExycNI3S/hdPZO+0jwypOsU40WW30P1WHP8K5H5hKgipK6lAIaWKh43/Q+zMdnp23KqEee0FHybKMLpyYRevd1D2OLswuLq/gbAj9YGkEeV6YpChOqlh//wsjpGnYdbsNx9sW6utynn8JaY95sYPwptMh4XhDGFaj6heuo60Of3uVkEb+BL4F3FVGVoLEAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"app details two",title:"app details two",src:"/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png",srcSet:["/static/39813c22bfaccabf506ce07d24062289/7fc1e/app_argo_2.png 288w","/static/39813c22bfaccabf506ce07d24062289/a5df1/app_argo_2.png 576w","/static/39813c22bfaccabf506ce07d24062289/3cbba/app_argo_2.png 1152w","/static/39813c22bfaccabf506ce07d24062289/0b124/app_argo_2.png 1728w","/static/39813c22bfaccabf506ce07d24062289/4ea69/app_argo_2.png 2304w","/static/39813c22bfaccabf506ce07d24062289/b5501/app_argo_2.png 3149w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"You will now see the available apps.")),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.72222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFUlEQVQoz42QX0+DMBTF+cSaTB8Wxxb1s5m9mBnjnEbY3BwwKB20MP60heVYUIxGnT78cm/a3nPuqXFp9jGzl1is1lh7PqqqalFKffSHqDWFfsuyAmGyg3HcO8H1vYXx7QMmMxuUp4iSDHGaI0qztg9ZCvILzZ0XJVhRhpcth3HUO22Hc6HAdxkI9SBkBdlsWNeo6z0cEsNyAsxdAvsHunPLITAGwxFozFGUpY4pEMU+VLVHWRZvkbSop90XXojnDf0Toz8wW8FSSEgpEIYumP4LlqRIs7wV3egoc/e7YGPSGXW9cWYOEdAIjCd6WOHRfsLVZIrxzVTXOzhB+C5I/rfh6PwCJGLgWlBIhaW//ULn/rke4hV13wN1m+uyfAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"sampleapp create",title:"sampleapp create",src:"/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png",srcSet:["/static/eddb5c8846254c4846d2507394ff8490/7fc1e/sampleapp_create.png 288w","/static/eddb5c8846254c4846d2507394ff8490/a5df1/sampleapp_create.png 576w","/static/eddb5c8846254c4846d2507394ff8490/3cbba/sampleapp_create.png 1152w","/static/eddb5c8846254c4846d2507394ff8490/0b124/sampleapp_create.png 1728w","/static/eddb5c8846254c4846d2507394ff8490/4ea69/sampleapp_create.png 2304w","/static/eddb5c8846254c4846d2507394ff8490/74fc2/sampleapp_create.png 3138w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Initially, the app will be out of sync. It is yet to be deployed. You need to sync it for deploying.")),Object(p.b)("p",null,"To sync the application, click ",Object(p.b)("inlineCode",{parentName:"p"},"SYNC")," and then ",Object(p.b)("inlineCode",{parentName:"p"},"SYNCHRONIZE"),"."),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQoz52Sy27TQBSG/WiISoQ2FRS6gW6Bt6FIhJASX5KJPbZpfM8jtCAatQKpYsMCJFCaXpLYTpwgCoufM0OpTNkgFp+OZWk+//8ZK2srFWw+raO+paKh6ojiGDERlYjjBEmvh8D3sf/2HfrvP+Dw42cMJjlO0hyneUHMMJ4WUK5dX8KT+hZqTQO1FxoY57BfdmFvd39Ngtku2txFs8Wwu7ePUbHAkGSDUSqnEJ4I4WwO5UalAmbZlCRBEAbgvI0wpGRRhDiJ0aNkHRKqjKOuGth500dezDEhQUqJMpLk9AHxTjwrK9UqDNZB1/NIEsJxTFnRDwISh7K+SKh1OJ5rLezsHeDLWY5PgyEGp2McnU0wHKdUP8Mx1VduLi+jxUz4fkCHIzCmw2h3oFE9gef5sNxtqFJoYLd/gGxxjlE2xVjUJEYXTKYzKNXVVXnQsh2ElLBpGHhca2DzWUNOjeRifyKhqPyahF/PfyClehlVvYpy6/Ya2qYlk4S0N8Ny/kCIVGZBN20pfEXC+bfvlKaQ0qsod+6ugzsukiShHcbQLwRlhLQsXJSEfyW8d3/jUiguQDf5paTMPwsfPHxE+3Ppl4ng0cX8Tvi/wp8/pn9wyUnrFQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"out of sync",title:"out of sync",src:"/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png",srcSet:["/static/1910af2de6a3b8ba8fe6293f157d24a5/7fc1e/out_of_sync.png 288w","/static/1910af2de6a3b8ba8fe6293f157d24a5/a5df1/out_of_sync.png 576w","/static/1910af2de6a3b8ba8fe6293f157d24a5/3cbba/out_of_sync.png 1152w","/static/1910af2de6a3b8ba8fe6293f157d24a5/23e4c/out_of_sync.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Wait till the app is deployed.")),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVQoz6WS207CQBRF+6c+GB8UJGAiRn1Uf8DoR8mDiTUBQgstdFoYeuPWUnrbnilgMGmUxCYrOz3T7tlnzkjN2gVachtyV0VH1ZGkKZHtdEuaZchKEPU8yxEmKeZhBD9YQzo5PcN7W4Gs6Pjo6TBsH+58CXexIt1iUm3EXRjcI/2JqA1pTR3bhAPpvFIFd/0iVRAl0KczJEmCDSESiMdyfCgGR9+cQi3hsC7V6g2wMUcYhojiBMxdFu2E64jeY6TUskgoPh5Y9p9IleolTG5jFQRkkKJn2hgxC9rIhG5YCGgj7i2gMF5q0N/rLqlUb1xhaI4xdVxsKGFbs/Amd9D67BY6YBMwkZAdmfC6eQOLO1hTizGd23Di0iF73+x3P9RfDW/v7uHNFsjzvDDUxLR28fcca1YYPjw+FYbFvaIBaDT6Y38uNXx+eYXjzxFtYgTUtkj4H8MvVuzc9lcs2wUAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"synched app",title:"synched app",src:"/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png",srcSet:["/static/03f918ce36943230732e63f4259706af/7fc1e/synched_app.png 288w","/static/03f918ce36943230732e63f4259706af/a5df1/synched_app.png 576w","/static/03f918ce36943230732e63f4259706af/3cbba/synched_app.png 1152w","/static/03f918ce36943230732e63f4259706af/ba1f3/synched_app.png 1574w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Once the app is deployed, click on it to see the details.")),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.583333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVQoz12PbXOCMBCE+b8dra3TTl/+ZDu2WhWCgcSQgIAgCl/cXqJYLTM7d7chz1681/EInwsGfxUh3RRgXLh+GXIsGYdPYquY5pPXNHt0XYe2bUmd62vydF5CkbzBcIBvP4BQBrv9ARMW0hwikgozAnwEASYhBUYCXCgcj0f8/3rLFu9uMERe71A1B5R1A7OtkZY16n1LfoOk2CKtauRV4/4pyMurHYqzTn1z1g7e6HGMOVdYxhq+0AikwTxS+CFvHiVYJSmSrECyKRHpDIs4uZG9dy23oQXxZIOvIMY0FC41oy253lyA0tg+A1sbKJrXaQ5hcprTG3n3owcHDFWG2UpiyiV0UUHSBevHVO1zdb5FRMBQpQQsEVMYk9pB7KtsEKPqjZ+e3cU+IVxnWAr7fON+tFusCWZoY0NB1rNnvrTnPeyvei9v7xdgIM3loJfzLEDom+BriAWzc/8LQDZIENqnI90AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"sample app deployed",title:"sample app deployed",src:"/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png",srcSet:["/static/ed3d6351842156b1ad02675f43c47981/7fc1e/sample_app_deployed.png 288w","/static/ed3d6351842156b1ad02675f43c47981/a5df1/sample_app_deployed.png 576w","/static/ed3d6351842156b1ad02675f43c47981/3cbba/sample_app_deployed.png 1152w","/static/ed3d6351842156b1ad02675f43c47981/23e4c/sample_app_deployed.png 1578w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(p.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.819444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVQY022Q227DIBBE/f//1j60TdXGBhsDNuDEdyeplGQ6kFbqQ5FGy6zYw+5mb7KGrC36aYG2DpVpIGrDnIFQBkq3UKZFXmlMy4p4brc77veHrtcrltMZ3bxivXwh2xUCuvHYzhe8VwqvuUyAvdJ4zgu8lBJCW0jC1+2E/04Ep0hl47phPl0wLhsCuwzDzB/ptzPcODM34zitmOhnauC7pPlHf3xkZDtpsNccte2g3BGiCRBtQHsYEPoRNvQomy75XxU2pJrP2qW41x45JZjPnj4kR9VpDz33UEawP8AT5lisXJeA/jgmGf/4VDM6etv1qHmXfFO1B2SRGk1hfFJuHEoXOxpRM4qYtz4VNlRpfeowQmK3JeGSXpBREvgNwaTBr0wfA/AAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(p.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"sample app full deployment",title:"sample app full deployment",src:"/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png",srcSet:["/static/72416f00d3f584833043748ee2a28954/7fc1e/sample_app_full_deployment.png 288w","/static/72416f00d3f584833043748ee2a28954/a5df1/sample_app_full_deployment.png 576w","/static/72416f00d3f584833043748ee2a28954/3cbba/sample_app_full_deployment.png 1152w","/static/72416f00d3f584833043748ee2a28954/a8e2d/sample_app_full_deployment.png 1577w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(p.b)("h2",null,"Verifying the deployment"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Access the app to verify if it is correctly deployed."),Object(p.b)("li",{parentName:"ul"},"List the cloudnativesampleapp-service service",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"kubectl get svc cloudnativesampleapp-service\n")),"  It should have an IP under ",Object(p.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," column",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"NAME                           TYPE           CLUSTER-IP       EXTERNAL-IP      PORT(S)          AGE\ncloudnativesampleapp-service   NodePort       10.109.242.212   10.109.242.212   9080:31905/TCP   13m\n"))),Object(p.b)("li",{parentName:"ul"},"Set an environment variable ",Object(p.b)("inlineCode",{parentName:"li"},"APP_URL")," using the ",Object(p.b)("inlineCode",{parentName:"li"},"EXTERNAL-IP")," and ",Object(p.b)("inlineCode",{parentName:"li"},"NodePort")," values",Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},'export APP_URL="$(minikube service --url cloudnativesampleapp-service -n default)"\necho APP_URL=$APP_URL\n'))),Object(p.b)("li",{parentName:"ul"},"Access the url using ",Object(p.b)("inlineCode",{parentName:"li"},"curl"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},'curl "$APP_URL/greeting?name=Carlos"\n')),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},'{"id":2,"content":"Welcome to Cloudnative bootcamp !!! Hello, Carlos :)"}\n')))),Object(p.b)("h2",null,"Using the ArgoCD CLI"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Login using the cli.")),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Use ",Object(p.b)("inlineCode",{parentName:"p"},"admin")," as the username and get the password with the following command"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"export ARGOCD_PASSWORD=$(kubectl get secret example-argocd-cluster -n $ARGOCD_NAMESPACE -o jsonpath='{.data.admin\\.password}' | base64 -d)\necho $ARGOCD_PASSWORD\n"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Now login as follows."),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"argocd login --username admin --password $ARGOCD_PASSWORD $ARGOCD_SERVER\n")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"WARNING: server certificate had error: x509: cannot validate certificate for 10.97.240.99 because it doesn't contain \nany IP SANs. Proceed insecurely (y/n)? y\n\n'admin' logged in successfully\nContext '10.105.73.245' updated\n"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"List the applications"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"argocd app list\n")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"NAME    CLUSTER                         NAMESPACE  PROJECT  STATUS  HEALTH   SYNCPOLICY  CONDITIONS  REPO                                                                     PATH   TARGET\nsample  https://kubernetes.default.svc  default    default  Synced  Healthy  <none>      <none>      https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy  kubernetes  HEAD\n"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Get application details"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"argocd app get sample\n")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"Name:               sample\nProject:            default\nServer:             https://kubernetes.default.svc\nNamespace:          default\nURL:                https://10.97.240.99/applications/sample\nRepo:               https://github.com/ibm-cloud-architecture/cloudnative_sample_app_deploy\nTarget:             HEAD\nPath:               kubernetes\nSyncWindow:         Sync Allowed\nSync Policy:        <none>\nSync Status:        Synced to HEAD (9684037)\nHealth Status:      Healthy\n\nGROUP  KIND        NAMESPACE  NAME                             STATUS  HEALTH   HOOK  MESSAGE\n    Service     default    cloudnativesampleapp-service     Synced  Healthy        service/cloudnativesampleapp-service created\napps   Deployment  default    cloudnativesampleapp-deployment  Synced  Healthy        deployment.apps/cloudnativesampleapp-deployment created\n"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Show application deployment history"),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre",className:"language-bash"},"argocd app history sample\n")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",{parentName:"pre"},"ID  DATE                           REVISION\n0   2020-02-12 21:10:32 -0500 EST  HEAD (9684037)\n")))),Object(p.b)("h2",null,"References"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},Object(p.b)("a",{parentName:"li",href:"https://argoproj.github.io/argo-cd/"},"ArgoCD"))))}s.isMDXComponent=!0},QH2O:function(e,a,t){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}}}]);
//# sourceMappingURL=component---src-pages-lectures-continuous-deployment-activities-minikube-mdx-d3db593483f9301fd19a.js.map